openapi: 3.0.3
info:
  version: 4.3.0
  title: Common Data Types
  description: |
    \*****bzzz*****

externalDocs:
  description: Browse the documentation @ the Swarm Docs
  url: "https://docs.swarm.eth"

paths: {}
components:
  schemas:
    Address:
      type: object
      properties:
        address:
          $ref: "#/components/schemas/SwarmAddress"

    Addresses:
      type: object
      properties:
        overlay:
          description: The node's overlay address in Swarm's Kademlia network, used for content routing and peer selection.
          $ref: "#/components/schemas/SwarmAddress"
        underlay:
          description: List of the node's underlay (transport-layer) multiaddresses used for peer-to-peer communication.
          type: array
          items:
            $ref: "#/components/schemas/P2PUnderlay"
        ethereum:
          description: "Deprecated: use `chain_address` instead. The node's Ethereum address on Gnosis Chain."
          deprecated: true
          $ref: "#/components/schemas/EthereumAddress"
        chain_address:
          description: The node's Ethereum-compatible address on Gnosis Chain, used for on-chain transactions such as postage stamp purchases and chequebook operations.
          $ref: "#/components/schemas/EthereumAddress"
        publicKey:
          description: The node's hex-encoded secp256k1 public key, used for peer identity verification and encrypted communication.
          $ref: "#/components/schemas/PublicKey"
        pssPublicKey:
          description: The node's hex-encoded secp256k1 public key used for Postal Service over Swarm (PSS) encrypted messaging.
          $ref: "#/components/schemas/PublicKey"

    BigInt:
      description: Numeric string that represents integer which might exceed `Number.MAX_SAFE_INTEGER` limit (2^53-1)
      type: string
      example: "1000000000000000000"

    ReserveState:
      type: object
      properties:
        radius:
          description: Maximum storage radius assuming all postage stamp batches are fully utilized.
          type: integer
        storageRadius:
          description: The radius of responsibility — the proximity order of chunks for which the node is responsible for storing.
          type: integer
        commitment:
          description: Total number of chunks that would be stored on the Swarm network if 100% of all postage batches were fully utilized.
          type: integer
        reserveCapacityDoubling:
          type: integer

    ChainState:
      type: object
      properties:
        chainTip:
          description: Latest Gnosis Chain block number known to the node.
          type: integer
        block:
          description: Latest block the node has fully synced from Gnosis Chain. If significantly behind chainTip, the node may still be catching up.
          type: integer
        totalAmount:
          description: Cumulative value of all storage prices per chunk in PLUR across all blocks.
          $ref: "#/components/schemas/BigInt"
        currentPrice:
          description: Current price in PLUR to store a single chunk for one Gnosis Chain block.
          $ref: "#/components/schemas/BigInt"

    PeerAccountingData:
      type: object
      properties:
        peerData:
          type: object
          additionalProperties:
            $ref: "#/components/schemas/AccountingInfo"

    AccountingInfo:
      type: object
      properties:
        balance:
          description: Current SWAP balance with the peer. Negative values indicate debt owed to the peer, positive values indicate credit owed by the peer.
          $ref: "#/components/schemas/BigInt"
        thresholdReceived:
          description: Payment threshold communicated to this peer — the debt limit at which the peer is expected to settle.
          $ref: "#/components/schemas/BigInt"
        thresholdGiven:
          description: Payment threshold received from this peer — the debt limit at which this node is expected to settle. Adjusts over time based on the peer's repayment history.
          $ref: "#/components/schemas/BigInt"
        surplusBalance:
          description: Surplus from incoming payments that exceeded the outstanding debt. Not considered debt for settlement purposes.
          $ref: "#/components/schemas/BigInt"
        reservedBalance:
          description: Amount currently reserved for an active peer interaction to prevent overdrafts during concurrent operations.
          $ref: "#/components/schemas/BigInt"
        shadowReservedBalance:
          description: Amount potentially to be debited for an active peer interaction. Reserves anticipated debits before they are applied.
          $ref: "#/components/schemas/BigInt"
        ghostBalance:
          description: Amount that could have been debited but was not, used to detect misbehaving peers.
          $ref: "#/components/schemas/BigInt"

    ActGranteesCreateRequest:
      type: object
      properties:
        grantees:
          type: array
          items:
            $ref: "#/components/schemas/PublicKey"

    ActGranteesPatchRequest:
      type: object
      properties:
        add:
          type: array
          items:
            $ref: "#/components/schemas/PublicKey"
          description: List of grantees to add
        revoke:
          type: array
          items:
            $ref: "#/components/schemas/PublicKey"
          description: List of grantees to revoke future access from

    ActGranteesOperationResponse:
      type: object
      properties:
        ref:
          description: Swarm encrypted reference to the updated or newly created grantee list.
          $ref: "#/components/schemas/SwarmEncryptedReference"
        historyref:
          description: Swarm encrypted reference to the access control history entry, a time-versioned log of access control changes.
          $ref: "#/components/schemas/SwarmEncryptedReference"

    Balance:
      type: object
      properties:
        peer:
          $ref: "#/components/schemas/SwarmAddress"
        balance:
          $ref: "#/components/schemas/BigInt"

    Balances:
      type: object
      properties:
        balances:
          type: array
          items:
            $ref: "#/components/schemas/Balance"

    BzzTopology:
      type: object
      properties:
        baseAddr:
          description: The node's overlay address in Swarm's Kademlia network.
          $ref: "#/components/schemas/SwarmAddress"
        population:
          description: Total number of peers known to this node across all Kademlia bins, including both connected and previously seen peers.
          type: integer
        connected:
          description: Number of peers currently connected to this node across all Kademlia bins.
          type: integer
        timestamp:
          description: ISO 8601 timestamp of when this topology snapshot was taken.
          type: string
        nnLowWatermark:
          description: Minimum number of peers required in the nearest neighbour bins. Used in neighborhood depth calculation (default 3).
          type: integer
        depth:
          description: The Kademlia neighborhood depth of this node. Bins at or deeper than this value form the node's neighborhood.
          type: integer
        reachability:
          description: |
            The node's reachability status as determined by connectivity checks.
            - `Unknown` — Reachability has not yet been determined.
            - `Public` — The node is publicly reachable by other nodes on the network.
            - `Private` — The node is behind a NAT or firewall and is not directly reachable.
          type: string
          enum:
            - "Unknown"
            - "Public"
            - "Private"
        networkAvailability:
          description: |
            The node's network availability status.
            - `Unknown` — Network availability has not yet been determined.
            - `Available` — The node can connect to the Swarm network and participate in protocols.
            - `Unavailable` — The node cannot connect to the Swarm network.
          type: string
          enum:
            - "Unknown"
            - "Available"
            - "Unavailable"
        bins:
          type: object
          additionalProperties:
            type: object
            properties:
              population:
                type: integer
              connected:
                type: integer
              disconnectedPeers:
                type: array
                items:
                  type: object
                  properties:
                    address:
                      $ref: "#/components/schemas/SwarmAddress"
                    metrics:
                      $ref: "#/components/schemas/PeerMetricsView"
              connectedPeers:
                type: array
                items:
                  type: object
                  properties:
                    address:
                      $ref: "#/components/schemas/SwarmAddress"
                    metrics:
                      $ref: "#/components/schemas/PeerMetricsView"

    Cheque:
      type: object
      properties:
        beneficiary:
          $ref: "#/components/schemas/EthereumAddress"
        chequebook:
          $ref: "#/components/schemas/EthereumAddress"
        payout:
          $ref: "#/components/schemas/BigInt"

    ChequeAllPeersResponse:
      type: object
      properties:
        lastcheques:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/ChequePeerResponse"

    ChequePeerResponse:
      type: object
      properties:
        peer:
          $ref: "#/components/schemas/SwarmAddress"
        lastreceived:
          $ref: "#/components/schemas/Cheque"
        lastsent:
          $ref: "#/components/schemas/Cheque"

    ChequebookBalance:
      type: object
      properties:
        totalBalance:
          description: Total xBZZ balance (in PLUR) in the chequebook contract on the blockchain.
          $ref: "#/components/schemas/BigInt"
        availableBalance:
          description: Available xBZZ balance (in PLUR) — the total balance minus outstanding (non-cashed) cheques issued to peers.
          $ref: "#/components/schemas/BigInt"

    ChequebookAddress:
      type: object
      properties:
        chequebookAddress:
          $ref: "#/components/schemas/EthereumAddress"

    DateTime:
      type: string
      format: date-time
      #pattern: '^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{7}\+\d{2}:\d{2})$'
      example: "2020-06-11T11:26:42.6969797+02:00"

    Duration:
      description: Go time.Duration format
      type: string
      example: "5.0018ms"

    Seconds:
      description: Go time.Duration format in seconds
      type: number
      example: 30.5

    EthereumAddress:
      type: string
      pattern: "^[A-Fa-f0-9]{40}$"
      example: "36b7efd913ca4cf880b8eeac5093fa27b0825906"

    FileName:
      type: string

    GasLimit:
      description: Gas limit refers to the maximum amount of gas you’re willing to spend on a particular transaction.
      type: integer
      minimum: 0
      maximum: 18446744073709551615

    GasPrice:
      description: Gas price refers to the amount you’re willing to pay for every unit of gas.
      type: integer

    Hash:
      type: object
      properties:
        hash:
          $ref: "#/components/schemas/SwarmAddress"

    HexString:
      type: string
      pattern: "^([A-Fa-f0-9]+)$"
      example: "cf880b8eeac5093fa27b0825906c600685"

    Hex8Bytes:
      description: Hexadecimal string representation of 8 bytes
      type: string
      pattern: "^([0-9a-fA-F]{16})$"
      example: "1a2b3c4d5e6f7a8b"

    Signature:
      description: Hexadecimal string representation of cryptographic signature
      type: string
      pattern: "^([0-9a-fA-F]{130})$"
      example: "1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c4d5e"

    MultiAddress:
      type: string

    NewTagResponse:
      type: object
      properties:
        uid:
          $ref: "#/components/schemas/Uid"
        startedAt:
          $ref: "#/components/schemas/DateTime"
        split:
          type: integer
          description: Number of chunks created by the splitter.
        seen:
          type: integer
          description: Number of chunks that are already uploaded with same reference and same postage batch. These don't need to be synced again.
        stored:
          type: integer
          description: Number of chunks that were stored locally as they lie in the uploader node's neighborhood. This is only applicable for full nodes.
        sent:
          type: integer
          description: Number of chunks sent on the network to peers as a part of the upload. Chunks could be sent multiple times because of failures or replication.
        synced:
          type: integer
          description: Number of chunks that were pushed with a valid receipt. The receipt will also show if they were stored at the correct depth.

    TagsList:
      type: object
      properties:
        tags:
          type: array
          nullable: true
          items:
            $ref: "#/components/schemas/NewTagResponse"

    P2PUnderlay:
      type: string
      example: "/ip4/127.0.0.1/tcp/1634/p2p/16Uiu2HAmTm17toLDaPYzRyjKn27iCB76yjKnJ5DjQXneFmifFvaX"

    PeerMetricsView:
      type: object
      properties:
        lastSeenTimestamp:
          description: Unix timestamp (in nanoseconds) of when the peer was last seen by this node.
          type: integer
          nullable: false
        sessionConnectionRetry:
          description: Number of connection retry attempts in the current session with this peer.
          type: integer
          nullable: false
        connectionTotalDuration:
          description: Total cumulative duration (in nanoseconds) of all connections with this peer across all sessions.
          type: number
          nullable: false
        sessionConnectionDuration:
          description: Duration (in nanoseconds) of the current or most recent connection session with this peer.
          type: number
          nullable: false
        sessionConnectionDirection:
          description: Direction of the connection — either "inbound" (the peer initiated) or "outbound" (this node initiated).
          type: string
          nullable: false
        latencyEWMA:
          description: Exponentially weighted moving average of round-trip latency to this peer, in nanoseconds.
          type: integer
          nullable: false
        reachability:
          description: Reachability status of this peer as observed by the node (Unknown, Public, or Private).
          type: string
        healthy:
          description: Whether the peer is considered healthy based on its connectivity and performance metrics.
          type: boolean

    Peers:
      type: object
      properties:
        peers:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/Address"

    BlockListedPeers:
      type: array
      items:
        type: object
        properties:
          address:
            $ref: "#/components/schemas/Address"
          fullNode:
            description: Whether the blocklisted peer is a full node (as opposed to a light node).
            type: boolean
          reason:
            description: Human-readable reason why this peer was added to the blocklist.
            type: string
          duration:
            description: Duration in nanoseconds for which this peer remains blocklisted.
            type: integer

    PssRecipient:
      type: string

    PssTargets:
      pattern: "^[0-9a-fA-F]{1,6}(,[0-9a-fA-F]{1,6})*$"
      description: List of hex string targets that are comma separated and can have maximum length of 6
      type: string

    PssTopic:
      type: string

    ProblemDetails:
      type: object
      properties:
        code:
          type: integer
        message:
          type: string
        reasons:
          type: array
          nullable: true
          description: List of reasons for the error message.
          items:
            type: string

    ReferenceResponse:
      type: object
      properties:
        reference:
          $ref: "#/components/schemas/SwarmReference"

    PostEnvelopeResponse:
      type: object
      properties:
        issuer:
          description: Ethereum address of the node that created the stamp.
          $ref: "#/components/schemas/EthereumAddress"
        index:
          description: Within-batch index assigned to this stamp. Encodes a bucket (upper 16 bits) and an in-bucket counter.
          $ref: "#/components/schemas/Hex8Bytes"
        timestamp:
          description: Timestamp of stamp creation, used for ordering when multiple chunks compete for the same batch index slot.
          $ref: "#/components/schemas/Hex8Bytes"
        signature:
          description: ECDSA signature by the batch owner over the hash of (chunk address | batch ID | index | timestamp), proving authorization to stamp the chunk.
          $ref: "#/components/schemas/Signature"

    DebugPostageBatchesResponse:
      type: object
      properties:
        stamps:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/DebugPostageBatch"

    DebugPostageAllBatchesResponse:
      type: object
      properties:
        batches:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/PostageBatchShort"

    BatchIDResponse:
      type: object
      properties:
        batchID:
          $ref: "#/components/schemas/BatchID"
        txHash:
          $ref: "#/components/schemas/TransactionHash"

    Response:
      type: object
      properties:
        message:
          type: string
        code:
          type: integer

    RttMs:
      type: object
      properties:
        rtt:
          $ref: "#/components/schemas/Duration"

    Node:
      type: object
      properties:
        beeMode:
          type: string
          enum: [light, full, dev, ultra-light, unknown]
          description: >
            Gives back in what mode the Bee client has been started. The modes are mutually exclusive
            * `light` - light node; does not participate in forwarding or storing chunks
            * `full` - full node
            * `dev` - development mode; Bee client for development purposes, blockchain operations are mocked
            * `ultra-light` - ultra-light node; a light node with chain disabled
            * `unknown` - unknown mode
        chequebookEnabled:
          type: boolean
        swapEnabled:
          type: boolean

    HealthStatus:
      type: object
      properties:
        status:
          type: string
          enum: [ok, nok, unknown]
          description: >
            Indicates health state of node
            * `ok` - node is healthy
            * `nok` - node is not healthy
            * `unknown` - health status is unknown
        version:
          type: string
        apiVersion:
          type: string
          default: "0.0.0"
          description: The default value is set in case the bee binary was not build correctly.

    PostageBatch:
      type: object
      properties:
        batchID:
          description: Unique identifier of the postage batch.
          $ref: "#/components/schemas/BatchID"
        utilization:
          description: The highest number of filled slots out of all 2^bucketDepth buckets. When utilization reaches 2^(depth - bucketDepth), the batch is fully utilized for immutable batches.
          type: integer
        usable:
          description: Indicate that the batch was discovered by the Bee node, but it awaits enough on-chain confirmations before declaring the batch as usable.
          type: boolean
        label:
          description: Optional label assigned to the batch for identification purposes. Labels are stored locally on the Bee node where the batch was created and are not available on other nodes.
          type: string
        depth:
          description: Batch depth which determines the maximum number of chunks the batch can stamp. The theoretical maximum is 2^depth chunks, but effective capacity is lower due to how chunks are distributed across buckets.
          type: integer
        amount:
          description: Amount of xBZZ (in PLUR) assigned per chunk. Determines how long the batch remains valid based on the current storage price (in PLUR per chunk per block). The total cost of the batch is 2^depth × amount.
          $ref: "#/components/schemas/BigInt"
        bucketDepth:
          description: Depth of the postage batch buckets. Fixed at 16, partitioning the address space into 2^16 (65536) equally sized buckets.
          type: integer
        blockNumber:
          description: Block number on Gnosis Chain at which the batch was created.
          type: integer
        immutableFlag:
          description: Whether the batch is immutable. Immutable batches permanently store data and do not allow overwriting older chunks. Mutable batches allow overwriting older data as new chunks are added.
          type: boolean
        exists:
          description: Whether the batch exists on-chain.
          type: boolean
        batchTTL:
          description: Estimated remaining time-to-live of the batch in seconds. The TTL decreases as blocks are mined on Gnosis Chain and the batch balance is consumed.
          type: integer

    PostageBatchNoIssuer:
      type: object
      properties:
        batchID:
          $ref: "#/components/schemas/BatchID"
        exists:
          type: boolean
        batchTTL:
          type: integer

    PostageBatchShort:
      type: object
      properties:
        batchID:
          description: Unique identifier of the postage batch.
          $ref: "#/components/schemas/BatchID"
        value:
          description: Normalised balance of the batch per chunk (in PLUR). Decreases over time as storage rent is consumed.
          $ref: "#/components/schemas/BigInt"
        start:
          description: Block number on Gnosis Chain at which the batch was created.
          type: integer
        depth:
          description: Batch depth which determines the maximum number of chunks the batch can stamp. The theoretical maximum is 2^depth chunks, but effective capacity is lower due to how chunks are distributed across buckets.
          type: integer
        bucketDepth:
          description: Depth of the postage batch buckets. Fixed at 16, partitioning the address space into 2^16 (65536) equally sized buckets.
          type: integer
        immutableFlag:
          description: Whether the batch is immutable. Immutable batches permanently store data and do not allow overwriting older chunks. Mutable batches allow overwriting older data as new chunks are added.
          type: boolean
        batchTTL:
          description: Estimated remaining time-to-live of the batch in seconds.
          type: integer
        owner:
          description: Ethereum address of the batch owner.
          $ref: "#/components/schemas/EthereumAddress"
        storageRadius:
          description: The storage radius of the node. Defines the proximity order of chunks for which the node is responsible for storing.
          type: integer

    DebugPostageBatch:
      anyOf:
        - $ref: "#/components/schemas/PostageBatch"
        - $ref: "#/components/schemas/PostageBatchNoIssuer"

    StampBucketData:
      type: object
      properties:
        bucketID:
          description: Index of the bucket in the address space partition (0 to 2^bucketDepth - 1).
          type: integer
        collisions:
          description: Number of chunks assigned to this bucket. When this reaches 2^(depth - bucketDepth), the bucket is full.
          type: integer

    PostageStampBuckets:
      type: object
      properties:
        depth:
          description: Batch depth of the postage batch.
          type: integer
        bucketDepth:
          description: Depth of the postage batch buckets. Fixed at 16.
          type: integer
        bucketUpperBound:
          description: Maximum number of chunks allowed per bucket, equal to 2^(depth - bucketDepth).
          type: integer
        buckets:
          description: Array of bucket data showing the utilization of each bucket.
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/StampBucketData"

    Settlement:
      type: object
      properties:
        peer:
          description: Swarm overlay address of the peer.
          $ref: "#/components/schemas/SwarmAddress"
        received:
          description: Total amount of xBZZ (in PLUR) received from this peer through SWAP cheque settlements.
          type: integer
        sent:
          description: Total amount of xBZZ (in PLUR) sent to this peer through SWAP cheque settlements.
          type: integer

    Settlements:
      type: object
      properties:
        totalReceived:
          description: Total amount of xBZZ (in PLUR) received from all peers through SWAP cheque settlements.
          type: integer
        totalSent:
          description: Total amount of xBZZ (in PLUR) sent to all peers through SWAP cheque settlements.
          type: integer
        settlements:
          description: Per-peer settlement details.
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/Settlement"

    SwarmAddress:
      type: string
      pattern: "^[A-Fa-f0-9]{64}$"
      example: "36b7efd913ca4cf880b8eeac5093fa27b0825906c600685b6abdd6566e6cfe8f"

    PublicKey:
      type: string
      pattern: "^[A-Fa-f0-9]{66}$"
      example: "02ab7473879005929d10ce7d4f626412dad9fe56b0a6622038931d26bd79abf0a4"

    SwarmEncryptedReference:
      type: string
      pattern: "^[A-Fa-f0-9]{128}$"
      example: "36b7efd913ca4cf880b8eeac5093fa27b0825906c600685b6abdd6566e6cfe8f2d2810619d29b5dbefd5d74abce25d58b81b251baddb9c3871cf0d6967deaae2"

    DomainName:
      type: string
      pattern: '^[A-Za-z0-9]+\.[A-Za-z0-9]+$'
      example: "swarm.eth"

    BatchID:
      type: string
      pattern: "^[A-Fa-f0-9]{64}$"
      example: "36b7efd913ca4cf880b8eeac5093fa27b0825906c600685b6abdd6566e6cfe8f"

    GetStakeResponse:
      type: object
      properties:
        stakedAmount:
          $ref: "#/components/schemas/BigInt"

    GetWithdrawableResponse:
      type: object
      properties:
        withdrawableAmount:
          $ref: "#/components/schemas/BigInt"

    StakeTransactionResponse:
      type: object
      properties:
        txHash:
          $ref: "#/components/schemas/TransactionHash"

    SwarmOnlyReference:
      oneOf:
        - $ref: "#/components/schemas/SwarmAddress"
        - $ref: "#/components/schemas/SwarmEncryptedReference"

    PinCheckResponse:
      type: object
      properties:
        reference:
          description: Swarm reference of the pinned root hash that was checked.
          $ref: "#/components/schemas/SwarmOnlyReference"
        total:
          description: Total number of chunks expected for this pinned content.
          type: integer
        missing:
          description: Number of chunks that are missing from the local store.
          type: integer
        invalid:
          description: Number of chunks that are present but have invalid data.
          type: integer

    SwarmOnlyReferencesList:
      type: object
      properties:
        reference:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/SwarmOnlyReference"

    SwarmReference:
      oneOf:
        - $ref: "#/components/schemas/SwarmAddress"
        - $ref: "#/components/schemas/SwarmEncryptedReference"
        - $ref: "#/components/schemas/DomainName"

    SwapCashoutResult:
      type: object
      properties:
        recipient:
          $ref: "#/components/schemas/EthereumAddress"
        lastPayout:
          $ref: "#/components/schemas/BigInt"
        bounced:
          type: boolean

    SwapCashoutStatus:
      type: object
      properties:
        peer:
          $ref: "#/components/schemas/SwarmAddress"
        lastCashedCheque:
          $ref: "#/components/schemas/Cheque"
        transactionHash:
          $ref: "#/components/schemas/TransactionHash"
        result:
          $ref: "#/components/schemas/SwapCashoutResult"
        uncashedAmount:
          $ref: "#/components/schemas/BigInt"

    TagName:
      type: string

    TransactionHash:
      type: string
      pattern: "^0x[A-Fa-f0-9]{64}$"
      example: "0x780cb6a37d1946978087896e1e489c37e30fe3e329510fff8d97360f73529f5a"

    TransactionResponse:
      type: object
      properties:
        transactionHash:
          $ref: "#/components/schemas/TransactionHash"

    TransactionInfo:
      type: object
      properties:
        transactionHash:
          description: Hash of the transaction on Gnosis Chain.
          $ref: "#/components/schemas/TransactionHash"
        to:
          description: Destination Ethereum address of the transaction.
          $ref: "#/components/schemas/EthereumAddress"
        nonce:
          description: Transaction nonce for the sender account.
          type: integer
        gasPrice:
          description: Gas price (in wei) used for the transaction.
          $ref: "#/components/schemas/BigInt"
        gasLimit:
          description: Maximum gas units allowed for the transaction.
          type: integer
        gasTipCap:
          description: Maximum priority fee per gas (in wei) the sender is willing to pay (EIP-1559).
          $ref: "#/components/schemas/BigInt"
        gasTipBoost:
          description: Percentage boost applied to the gas tip to speed up transaction inclusion.
          type: integer
        gasFeeCap:
          description: Maximum total fee per gas (in wei) the sender is willing to pay (EIP-1559).
          $ref: "#/components/schemas/BigInt"
        data:
          description: Hex-encoded transaction input data.
          type: string
        created:
          description: Timestamp when the transaction was created by the node.
          $ref: "#/components/schemas/DateTime"
        description:
          description: Human-readable description of the transaction purpose.
          type: string
        value:
          description: Amount of native token (xDAI, in wei) sent with the transaction.
          $ref: "#/components/schemas/BigInt"

    WalletResponse:
      type: object
      properties:
        bzzBalance:
          description: xBZZ token balance (in PLUR) of the node's wallet on Gnosis Chain.
          $ref: "#/components/schemas/BigInt"
        nativeTokenBalance:
          description: Native token (xDAI) balance (in wei) of the node's wallet on Gnosis Chain.
          $ref: "#/components/schemas/BigInt"
        chainID:
          description: Chain ID of the blockchain the node is connected to (e.g. 100 for Gnosis Chain).
          type: integer
        chequebookContractAddress:
          description: Ethereum address of the node's deployed chequebook contract.
          $ref: "#/components/schemas/EthereumAddress"
        walletAddress:
          description: Ethereum address of the node's wallet.
          $ref: "#/components/schemas/EthereumAddress"

    WithdrawCoin:
      type: string
      enum:
        - "bzz"
        - "nativetoken"

    RedistributionStatusResponse:
      type: object
      properties:
        minimumGasFunds:
          description: Minimum native token (xDAI) balance in PLUR required in the node's wallet to participate in the next redistribution round.
          $ref: "#/components/schemas/BigInt"
        hasSufficientFunds:
          description: Whether the node's wallet has enough native token balance to cover gas costs for redistribution.
          type: boolean
        isFrozen:
          description: Whether the node is frozen and excluded from the redistribution game. A node is frozen as a penalty for submitting incorrect data during a round.
          type: boolean
        isFullySynced:
          description: Whether the node has fully synced all data within its storage radius. Must be true to participate in redistribution.
          type: boolean
        isHealthy:
          description: Whether the node is considered healthy for participation in the redistribution game.
          type: boolean
        phase:
          description: |
            Current phase of the redistribution round.
            - `commit` — Selected nodes submit a hashed commitment of their reserve sample.
            - `reveal` — Nodes that committed reveal the obfuscation key used in the commit phase.
            - `claim` — The winning node is determined and can claim its reward.
            - `sample` — The node creates a reserve sample for the upcoming round.
          type: string
        round:
          description: Current redistribution round number.
          type: integer
        lastWonRound:
          description: Round number of the last round won by this node.
          type: integer
        lastPlayedRound:
          description: Round number of the last round in which this node submitted a commit transaction.
          type: integer
        lastFrozenRound:
          description: Round number of the last round in which this node was frozen.
          type: integer
        lastSelectedRound:
          description: Round number of the last round in which this node was eligible to participate — requires the node's neighborhood to be selected and the node to be staked, healthy, fully synced, unfrozen, and sufficiently funded.
          type: integer
        lastSampleDurationSeconds:
          description: Time in seconds it took to generate the reserve sample in the most recent round.
          type: number
        block:
          description: Current Gnosis Chain block number as seen by the node.
          type: integer
        reward:
          description: Cumulative xBZZ rewards (in PLUR) earned by this node from winning redistribution rounds.
          $ref: "#/components/schemas/BigInt"
        fees:
          description: Cumulative gas fees (in wei) spent by this node on redistribution transactions.
          $ref: "#/components/schemas/BigInt"

    PendingTransactionsResponse:
      type: object
      properties:
        pendingTransactions:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/TransactionInfo"

    Uid:
      type: integer

    WelcomeMessage:
      type: object
      properties:
        welcomeMessage:
          type: string

    FeedType:
      description: |
        Feed indexing scheme.
        - `sequence` — Sequential indexing where updates are numbered incrementally (0, 1, 2, ...). Best for frequent or regular-interval updates.
        - `epoch` — Time-based indexing using a hierarchical epoch grid. Better suited for sparse or time-irregular updates.
      type: string
      pattern: "^(sequence|epoch)$"

    IsRetrievableResponse:
      type: object
      properties:
        isRetrievable:
          type: boolean

    LoggerExp:
      type: string
      description: Base 64 encoded regular expression or subsystem string.
      pattern: "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
      example: "b25lL25hbWU="

    LoggerTreeData:
      type: object
      nullable: true
      properties:
        /:
          $ref: "#/components/schemas/LoggerTreeNode"
        +:
          type: array
          items:
            type: string
          description: The combination of the logger verbosity and its subsystem separated by |.
          example: "warning|one/name[0][]>>824634860360"

    LoggerTreeNode:
      type: object
      additionalProperties:
        $ref: "#/components/schemas/LoggerTreeData"

    Logger:
      type: object
      properties:
        logger:
          description: Hierarchical logger name path using `/` as a separator (e.g. `node/api/router`).
          type: string
        verbosity:
          description: "Current verbosity level of the logger: `none`, `error`, `warning`, `info`, `debug`, or `all`."
          type: string
        subsystem:
          description: Unique subsystem identifier string used to match loggers via expressions or regex patterns.
          type: string
        id:
          description: Base64 URL-encoded representation of the subsystem identifier, used as a path parameter when setting logger verbosity.
          type: string

    LoggerResponse:
      type: object
      properties:
        tree:
          $ref: "#/components/schemas/LoggerTreeNode"
        loggers:
          type: array
          items:
            $ref: "#/components/schemas/Logger"

    StatusSnapshotResponse:
      type: object
      properties:
        overlay:
          description: The overlay address of the node this snapshot describes.
          $ref: "#/components/schemas/SwarmAddress"
        proximity:
          description: Proximity order of the peer relative to the requesting node. For the local node's own status, this is 256 (self).
          type: integer
        beeMode:
          description: |
            The operating mode of the Bee node.
            - `light` — Light node that does not participate in storage or forwarding.
            - `full` — Full node that stores chunks and participates in all protocols.
            - `dev` — Development mode for local testing.
            - `ultra-light` — Ultra-light node with minimal resource usage and protocol participation.
            - `unknown` — Node mode could not be determined.
          type: string
          enum:
            - "light"
            - "full"
            - "dev"
            - "ultra-light"
            - "unknown"
        reserveSize:
          description: Total number of chunks in the node's reserve store.
          type: integer
        reserveSizeWithinRadius:
          description: Number of chunks in the reserve that fall within the node's storage radius.
          type: integer
        pullsyncRate:
          description: Rate of chunk syncing via the pull-sync protocol (chunks per second).
          type: number
        storageRadius:
          description: The node's storage radius — the proximity order within which the node stores chunks.
          type: integer
        connectedPeers:
          description: Number of peers currently connected to this node.
          type: integer
        neighborhoodSize:
          description: Number of peers in the node's neighborhood (including the node itself).
          type: integer
        requestFailed:
          description: Whether the status request to this peer failed. Only relevant in peer status responses; null for the local node.
          nullable: true
          type: boolean
        batchCommitment:
          description: Total number of chunks that the node is committed to store based on postage batch utilisation.
          type: integer
        isReachable:
          description: Whether the node is publicly reachable by other nodes on the network.
          type: boolean
        lastSyncedBlock:
          description: The most recent Gnosis Chain block number the node has synced.
          type: integer
        committedDepth:
          description: The batch depth commitment of the node's reserve.
          type: integer
        isWarmingUp:
          type: boolean

    StatusPeersResponse:
      type: object
      properties:
        snapshots:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/StatusSnapshotResponse"

    StatusNeighborhoodResponse:
      type: object
      properties:
        neighborhood:
          $ref: "#/components/schemas/Neighborhood"
        reserveSizeWithinRadius:
          type: integer
        proximity:
          type: integer

    Neighborhood:
      type: string
      description: Swarm address of a neighborhood in string binary format, usually limited to as many bits as the current storage radius.
      example: "011010111"

    StatusNeighborhoodsResponse:
      type: object
      properties:
        neighborhoods:
          type: array
          nullable: false
          items:
            $ref: "#/components/schemas/StatusNeighborhoodResponse"

    ApiChunkInclusionProof:
      type: object
      properties:
        chunkSpan:
          description: Span of the chunk data in bytes, from the BMT span header.
          minimum: 0
          type: integer
        postageProof:
          description: Postage stamp proof for the chunk, proving it has a valid stamp attached.
          $ref: "#/components/schemas/ApiPostageProof"
        proofSegments:
          description: Sister segments for the first Merkle proof (reserve sample level), proving the chunk's inclusion in the sample.
          items:
            type: string
          nullable: true
          type: array
        proofSegments2:
          description: Sister segments for the second Merkle proof (original chunk level), proving knowledge of a specific data segment within the chunk.
          items:
            type: string
          nullable: true
          type: array
        proofSegments3:
          description: Sister segments for the third Merkle proof (transformed chunk level), proving correct transformation of chunk data with the round anchor.
          items:
            type: string
          nullable: true
          type: array
        proveSegment:
          description: The data segment being proved at the reserve sample level.
          type: string
        proveSegment2:
          description: The data segment being proved at the original chunk level.
          type: string
        socProof:
          description: Single Owner Chunk proof, present only if the chunk is a SOC. Empty for content-addressed chunks.
          items:
            $ref: "#/components/schemas/ApiSOCProof"
          nullable: true
          type: array

    ApiChunkInclusionProofs:
      type: object
      properties:
        proof1:
          $ref: "#/components/schemas/ApiChunkInclusionProof"
        proof2:
          $ref: "#/components/schemas/ApiChunkInclusionProof"
        proofLast:
          $ref: "#/components/schemas/ApiChunkInclusionProof"

    ApiPostageProof:
      type: object
      properties:
        index:
          description: Within-batch index of the stamp, hex-encoded. Identifies which slot in the postage batch was used.
          type: string
        postageId:
          description: The postage batch ID, a 32-byte hex-encoded hash identifying the batch on the blockchain.
          type: string
        signature:
          description: ECDSA signature (65 bytes, hex-encoded) by the batch owner proving authorization to stamp this chunk.
          type: string
        timeStamp:
          description: Timestamp of stamp creation, hex-encoded. Used for ordering when multiple chunks compete for the same batch index slot.
          type: string

    ApiRCHashResponse:
      type: object
      properties:
        durationSeconds:
          $ref: "#/components/schemas/Seconds"
        hash:
          $ref: "#/components/schemas/SwarmAddress"
        proofs:
          $ref: "#/components/schemas/ApiChunkInclusionProofs"

    ApiSOCProof:
      type: object
      properties:
        chunkAddr:
          description: Swarm address of the wrapped content-addressed chunk inside the SOC (the inner chunk address, not the SOC address).
          type: string
        identifier:
          description: Arbitrary 32-byte identifier chosen by the SOC owner. Together with the signer address, it determines the SOC's address.
          type: string
        signature:
          description: ECDSA signature by the SOC owner over the identifier and wrapped chunk address, proving ownership.
          type: string
        signer:
          description: Ethereum address of the SOC owner. Together with the identifier, it determines the SOC's address.
          type: string

    WalletTxResponse:
      type: object
      properties:
        transactionHash:
          $ref: "#/components/schemas/TransactionHash"
  headers:
    SwarmTag:
      description: "Tag UID"
      schema:
        $ref: "SwarmCommon.yaml#/components/schemas/Uid"

    SwarmFeedIndex:
      description: "The index of the found update"
      schema:
        $ref: "#/components/schemas/HexString"

    SwarmFeedIndexNext:
      description: "The index of the next possible update"
      schema:
        $ref: "#/components/schemas/HexString"

    SwarmSocSignature:
      description: "Attached digital signature of the Single Owner Chunk"
      schema:
        $ref: "#/components/schemas/HexString"

    SwarmActHistoryAddress:
      description: "Swarm address reference to the new ACT history entry"
      schema:
        $ref: "#/components/schemas/SwarmAddress"
      required: false

    ETag:
      description: |
        The RFC7232 ETag header field in a response provides the current entity-
        tag for the selected resource. An entity-tag is an opaque identifier for
        different versions of a resource over time, regardless whether multiple
        versions are valid at the same time. An entity-tag consists of an opaque
        quoted string, possibly prefixed by a weakness indicator.
      schema:
        type: string

    SwarmFeedResolvedVersion:
      schema:
        type: string
      required: false
      description: "Indicates which feed version was resolved (v1 or v2)"


  parameters:
    GasPriceParameter:
      in: header
      name: gas-price
      schema:
        $ref: "SwarmCommon.yaml#/components/schemas/GasPrice"
      required: false
      description: "Gas price for transaction"

    GasLimitParameter:
      in: header
      name: gas-limit
      schema:
        $ref: "SwarmCommon.yaml#/components/schemas/GasLimit"
      required: false
      description: "Gas limit for transaction"

    SwarmTagParameter:
      in: header
      name: swarm-tag
      schema:
        $ref: "SwarmCommon.yaml#/components/schemas/Uid"
      required: false
      description: Associate upload with an existing Tag UID

    SwarmPinParameter:
      in: header
      name: swarm-pin
      schema:
        type: boolean
      required: false
      description: >
        Represents if the uploaded data should be also locally pinned on the node.

    SwarmEncryptParameter:
      in: header
      name: swarm-encrypt
      schema:
        type: boolean
      required: false
      description: >
        Represents the encrypting state of the file

    SwarmRedundancyLevelParameter:
      in: header
      name: swarm-redundancy-level
      schema:
        type: integer
        enum: [0, 1, 2, 3, 4]
      required: false
      description: |
        Add erasure coding redundancy to uploaded data for improved download reliability.
        - `0` — None (default). No redundancy is added.
        - `1` — Medium. Tolerates up to 1% chunk retrieval error rate.
        - `2` — Strong. Tolerates up to 5% chunk retrieval error rate.
        - `3` — Insane. Tolerates up to 10% chunk retrieval error rate.
        - `4` — Paranoid. Tolerates up to 50% chunk retrieval error rate.

    SwarmRedundancyStrategyParameter:
      in: header
      name: swarm-redundancy-strategy
      schema:
        type: integer
        enum: [0, 1, 2, 3]
      required: false
      description: >
        Specify the retrieve strategy on redundant data.
        The numbers stand for NONE, DATA, PROX and RACE, respectively.
        Strategy NONE means no prefetching takes place.
        Strategy DATA means only data chunks are prefetched.
        Strategy PROX means only chunks that are close to the node are prefetched.
        Strategy RACE means all chunks are prefetched: n data chunks and k parity chunks. The first n chunks to arrive are used to reconstruct the file.
        Multiple strategies can be used in a fallback cascade if the swarm redundancy fallback mode is set to true.
        The default strategy is NONE, DATA, falling back to PROX, falling back to RACE

    SwarmRedundancyFallbackModeParameter:
      in: header
      name: swarm-redundancy-fallback-mode
      schema:
        type: boolean
      required: false
      description: >
        Specify if the retrieve strategies (chunk prefetching on redundant data) are used in a fallback cascade. The default is true.

    SwarmChunkRetrievalTimeoutParameter:
      in: header
      name: swarm-chunk-retrieval-timeout
      schema:
        $ref: "#/components/schemas/Duration"
      required: false
      description: >
        Specify the timeout for chunk retrieval. The default is 30 seconds.

    SwarmOnlyRootChunkParameter:
      in: header
      name: swarm-only-root-chunk
      schema:
        type: boolean
      required: false
      description: "Returns only the root chunk of the content"

    ContentTypePreserved:
      in: header
      name: Content-Type
      schema:
        type: string
      description: The specified content-type is preserved for download of the asset

    SwarmIndexDocumentParameter:
      in: header
      name: swarm-index-document
      schema:
        type: string
        example: index.html
      required: false
      description: Default file to be referenced on path, if exists under that path

    SwarmErrorDocumentParameter:
      in: header
      name: swarm-error-document
      schema:
        type: string
        example: error.html
      required: false
      description: Configure custom error document to be returned when a specified path can not be found in collection

    SwarmCollection:
      in: header
      name: swarm-collection
      schema:
        type: boolean
      required: false
      description: Upload file/files as a collection

    SwarmPostageBatchId:
      in: header
      name: swarm-postage-batch-id
      description: "ID of Postage Batch that is used to upload data with"
      required: true
      schema:
        $ref: "#/components/schemas/SwarmAddress"

    SwarmPostageStamp:
      in: header
      name: swarm-postage-stamp
      description: |
        Postage stamp for the corresponding chunk in the request. \
        It is required if Swarm-Postage-Batch-Id header is missing \
        It consists of: \
        - batch ID - 0:32 bytes \
        - postage index (bucket and bucket index) - 32:40 bytes \
        - timestamp - 40:48 bytes \
        - signature - 48:113 bytes
      schema:
        $ref: "#/components/schemas/HexString"

    SwarmDeferredUpload:
      in: header
      name: swarm-deferred-upload
      schema:
        type: boolean
        default: "true"
      required: false
      description: >
        Determines if the uploaded data should be sent to the network immediately or in a deferred fashion. By default the upload will be deferred.

    SwarmCache:
      in: header
      name: swarm-cache
      schema:
        type: boolean
        default: "true"
      required: false
      description: "Determines if the download data should be cached on the node. By default the download will be cached"

    SwarmAct:
      in: header
      name: swarm-act
      schema:
        type: boolean
        default: "false"
      required: false
      description: "Determines if the uploaded data should be treated as ACT content"

    SwarmActPublisher:
      in: header
      name: swarm-act-publisher
      schema:
        $ref: "#/components/schemas/PublicKey"
      required: false
      description: "ACT content publisher's public key"

    SwarmActHistoryAddress:
      in: header
      name: swarm-act-history-address
      schema:
        $ref: "#/components/schemas/SwarmAddress"
      required: false
      description: "ACT history reference address"

    SwarmActTimestamp:
      in: header
      name: swarm-act-timestamp
      schema:
        type: integer
        format: int64
      required: false
      description: "ACT history Unix timestamp"

  responses:
    "200":
      description: OK.
    "204":
      description: The resource was deleted successfully.
    "400":
      description: Bad request
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/ProblemDetails"
    "401":
      description: Unauthorized
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/ProblemDetails"
    "402":
      description: Payment Required
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/ProblemDetails"
    "404":
      description: Not Found
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/ProblemDetails"
    "429":
      description: Too many requests
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/ProblemDetails"
    "500":
      description: Internal Server Error
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/ProblemDetails"
